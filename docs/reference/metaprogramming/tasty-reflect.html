<!-- This page was last generated on 2020-11-18 -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <title>TASTy Reflect</title>

        <link rel="icon" type="image/png" href="/images/favicon.png">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/dottydoc.css">
        <link rel="stylesheet" href="/css/color-brewer.css"><!-- hljs theme -->

        
            <link rel="stylesheet" href="/css/toolbar.css">
        
            <link rel="stylesheet" href="/css/sidebar.css">
        

        <script src="/js/jquery.min.js"></script>
    </head>
    <body>
        <header>
    <nav class="navbar navbar-expand navbar-dark fixed-top">
        <a id="menu-icon" title="Menu" aria-label="Menu">
            <i class="fas fa-bars"></i>
        </a>
        <a id="search-icon" title="Search" aria-label="Search">
            <i class="fas fa-search"></i>
        </a>
        <span id="searchbar">
            <input id="search-api-input" type="text" class="form-control" placeholder="Search API" aria-label="Search API">
            <input id="baseurl-input" type="hidden" value="">
        </span>
        <div class="navbar-brand">
            
            <a href="/index.html">
                <img class="project-logo" src="/images/scala3-logo.svg">
            </a>
            
            <a href="/docs/index.html">
                <div class="project-details">
                    <h1>Dotty Documentation</h1>
                    <h2>3.0.0-M2</h2>
                </div>
            </a>
        </div>

        
        <a id="github-link" title="Project repository" href="https://github.com/lampepfl/dotty">
            
            <i class="fab fa-github" aria-hidden="true"></i>
            
        </a>
        
    </nav>
</header>

<nav class="sidebar">
    <ul class="toc">
        <!-- Redacted documents -->
        
            <li class="leaf"><a href="/blog/index.html" >Blog</a></li>
        
            <li class="section">
  <a onclick='toggleSection(this);'>Usage</a>
  <ul >
    <li class="leaf"><a href="/docs/usage/getting-started.html" >Getting Started</a></li>
<li class="leaf"><a href="/docs/usage/sbt-projects.html" >sbt-projects</a></li>
<li class="leaf"><a href="/docs/usage/ide-support.html" >IDE support for Dotty</a></li>
<li class="leaf"><a href="/docs/usage/worksheet-mode.html" >Worksheet mode in Dotty IDE</a></li>
<li class="leaf"><a href="/docs/usage/language-versions.html" >Language Versions</a></li>
<li class="leaf"><a href="/docs/usage/cbt-projects.html" >cbt-projects</a></li>
<li class="leaf"><a href="/docs/usage/dottydoc.html" >Dottydoc</a></li>
  </ul>
</li>

        
            <li class="section">
  <a onclick='toggleSection(this);'>Reference</a>
  <ul class="toggled">
    <li class="leaf"><a href="/docs/reference/overview.html" >Overview</a></li>
<li class="section">
  <a onclick='toggleSection(this);'>New Types</a>
  <ul >
    <li class="leaf"><a href="/docs/reference/new-types/intersection-types.html" >Intersection types</a></li>
<li class="leaf"><a href="/docs/reference/new-types/union-types.html" >Union types</a></li>
<li class="leaf"><a href="/docs/reference/new-types/type-lambdas.html" >Type lambdas</a></li>
<li class="leaf"><a href="/docs/reference/new-types/match-types.html" >Match types</a></li>
<li class="leaf"><a href="/docs/reference/new-types/dependent-function-types.html" >Dependent Function Types</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Enums</a>
  <ul >
    <li class="leaf"><a href="/docs/reference/enums/enums.html" >Enumerations</a></li>
<li class="leaf"><a href="/docs/reference/enums/adts.html" >Algebraic Data Types</a></li>
<li class="leaf"><a href="/docs/reference/enums/desugarEnums.html" >Translation</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Contextual Abstractions</a>
  <ul >
    <li class="leaf"><a href="/docs/reference/contextual/motivation.html" >Overview</a></li>
<li class="leaf"><a href="/docs/reference/contextual/givens.html" >Given Instances</a></li>
<li class="leaf"><a href="/docs/reference/contextual/using-clauses.html" >Using Clauses</a></li>
<li class="leaf"><a href="/docs/reference/contextual/context-bounds.html" >Context Bounds</a></li>
<li class="leaf"><a href="/docs/reference/contextual/given-imports.html" >Given Imports</a></li>
<li class="leaf"><a href="/docs/reference/contextual/extension-methods.html" >Extension Methods</a></li>
<li class="leaf"><a href="/docs/reference/contextual/type-classes.html" >Implementing Type classes</a></li>
<li class="leaf"><a href="/docs/reference/contextual/derivation.html" >Type class Derivation</a></li>
<li class="leaf"><a href="/docs/reference/contextual/multiversal-equality.html" >Multiversal Equality</a></li>
<li class="leaf"><a href="/docs/reference/contextual/context-functions.html" >Context Functions</a></li>
<li class="leaf"><a href="/docs/reference/contextual/conversions.html" >Implicit Conversions</a></li>
<li class="leaf"><a href="/docs/reference/contextual/by-name-context-parameters.html" >By-Name Context Parameters</a></li>
<li class="leaf"><a href="/docs/reference/contextual/relationship-implicits.html" >Relationship with Scala 2 Implicits</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Metaprogramming</a>
  <ul class="toggled">
    <li class="leaf"><a href="/docs/reference/metaprogramming/toc.html" >Overview</a></li>
<li class="leaf"><a href="/docs/reference/metaprogramming/inline.html" >Inline</a></li>
<li class="leaf"><a href="/docs/reference/metaprogramming/macros.html" >Macros</a></li>
<li class="leaf"><a href="/docs/reference/metaprogramming/staging.html" >Staging</a></li>
<li class="leaf"><a href="/docs/reference/metaprogramming/tasty-reflect.html" class="toggled">TASTy Reflection</a></li>
<li class="leaf"><a href="/docs/reference/metaprogramming/tasty-inspect.html" >TASTy Inspection</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Other New Features</a>
  <ul >
    <li class="leaf"><a href="/docs/reference/other-new-features/trait-parameters.html" >Trait Parameters</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/mixin-traits.html" >Mixin Traits</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/creator-applications.html" >Creator Applications</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/export.html" >Export Clauses</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/opaques.html" >Opaque Type Aliases</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/open-classes.html" >Open Classes</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/parameter-untupling.html" >Parameter Untupling</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/kind-polymorphism.html" >Kind Polymorphism</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/tupled-function.html" >Tupled Function</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/threadUnsafe-annotation.html" >threadUnsafe Annotation</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/targetName.html" >targetName Annotation</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/control-syntax.html" >New Control Syntax</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/indentation.html" >Optional Braces</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/explicit-nulls.html" >Explicit Nulls</a></li>
<li class="leaf"><a href="/docs/reference/other-new-features/safe-initialization.html" >Safe Initialization</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Other Changed Features</a>
  <ul >
    <li class="leaf"><a href="/docs/reference/changed-features/numeric-literals.html" >Numeric Literals</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/structural-types.html" >Structural Types</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/operators.html" >Operators</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/wildcards.html" >Wildcard Types</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/type-checking.html" >Type Checking</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/type-inference.html" >Type Inference</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/implicit-resolution.html" >Implicit Resolution</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/implicit-conversions.html" >Implicit Conversions</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/overload-resolution.html" >Overload Resolution</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/match-syntax.html" >Match Expressions</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/vararg-patterns.html" >Vararg Patterns</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/pattern-bindings.html" >Pattern Bindings</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/pattern-matching.html" >Pattern Matching</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/eta-expansion.html" >Eta Expansion</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/compiler-plugins.html" >Compiler Plugins</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/lazy-vals-init.html" >Lazy Vals initialization</a></li>
<li class="leaf"><a href="/docs/reference/changed-features/main-functions.html" >Main Functions</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Dropped Features</a>
  <ul >
    <li class="leaf"><a href="/docs/reference/dropped-features/delayed-init.html" >DelayedInit</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/macros.html" >Macros</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/existential-types.html" >Existential Types</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/type-projection.html" >Type Projection</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/do-while.html" >Do-While</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/procedure-syntax.html" >Procedure Syntax</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/package-objects.html" >Package Objects</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/early-initializers.html" >Early Initializers</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/class-shadowing.html" >Class Shadowing</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/limit22.html" >Limit 22</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/xml.html" >XML literals</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/symlits.html" >Symbol Literals</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/auto-apply.html" >Auto-Application</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/weak-conformance.html" >Weak Conformance</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/nonlocal-returns.html" >Nonlocal Returns</a></li>
<li class="leaf"><a href="/docs/reference/dropped-features/this-qualifier.html" >[this] Qualifier</a></li>
  </ul>
</li>

  </ul>
</li>

        
            <li class="section">
  <a onclick='toggleSection(this);'>Contributing</a>
  <ul >
    <li class="leaf"><a href="/docs/contributing/contribute-knowledge.html" >Contribute Knowledge</a></li>
<li class="leaf"><a href="/docs/contributing/getting-started.html" >Getting Started</a></li>
<li class="leaf"><a href="/docs/contributing/workflow.html" >Workflow</a></li>
<li class="leaf"><a href="/docs/contributing/testing.html" >Testing</a></li>
<li class="leaf"><a href="/docs/contributing/debugging.html" >Debugging</a></li>
<li class="section">
  <a onclick='toggleSection(this);'>IDEs and Tools</a>
  <ul >
    <li class="leaf"><a href="/docs/contributing/tools/mill.html" >Mill</a></li>
<li class="leaf"><a href="/docs/contributing/tools/scalafix.html" >Scalafix</a></li>
  </ul>
</li>

<li class="section">
  <a onclick='toggleSection(this);'>Procedures</a>
  <ul >
    <li class="leaf"><a href="/docs/contributing/procedures/release.html" >Release Model</a></li>
<li class="leaf"><a href="/docs/contributing/procedures/vulpix.html" >Modifying the Test Framework</a></li>
  </ul>
</li>

  </ul>
</li>

        
            <li class="section">
  <a onclick='toggleSection(this);'>Internals</a>
  <ul >
    <li class="leaf"><a href="/docs/internals/backend.html" >Backend</a></li>
<li class="leaf"><a href="/docs/internals/classpaths.html" >Classpaths</a></li>
<li class="leaf"><a href="/docs/internals/core-data-structures.html" >Core Data Structrues</a></li>
<li class="leaf"><a href="/docs/internals/contexts.html" >Contexts</a></li>
<li class="leaf"><a href="/docs/internals/dotc-scalac.html" >Dotc vs Scalac</a></li>
<li class="leaf"><a href="/docs/internals/higher-kinded-v2.html" >Higher-Kinded Types</a></li>
<li class="leaf"><a href="/docs/internals/overall-structure.html" >Overall Structure</a></li>
<li class="leaf"><a href="/docs/internals/periods.html" >Periods</a></li>
<li class="leaf"><a href="/docs/internals/syntax.html" >Syntax</a></li>
<li class="leaf"><a href="/docs/internals/type-system.html" >Type System</a></li>
<li class="leaf"><a href="/docs/internals/dotty-internals-1-notes.html" >Dotty Internals 1: Trees & Symbols (Meeting Notes)</a></li>
<li class="leaf"><a href="/docs/internals/debug-macros.html" >Debug Macros</a></li>
  </ul>
</li>

        
            <li class="section">
  <a onclick='toggleSection(this);'>Resources</a>
  <ul >
    <li class="leaf"><a href="/docs/resources/talks.html" >Talks</a></li>
  </ul>
</li>

        
        <!-- API documentation -->
        
        <li class="index-entities section">
            <a onclick="toggleSection(this);">API</a>
            <ul>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/dotty/index.html">
                        dotty
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/dotty/DottyPredef$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/dotty/DottyPredef$.html">DottyPredef</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/dotty/runtime/index.html">
                        dotty.runtime
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/dotty/runtime/Arrays$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/dotty/runtime/Arrays$.html">Arrays</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/dotty/runtime/LazyVals$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/dotty/runtime/LazyVals$.html">LazyVals</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/index.html">
                        scala
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/$times$colon$.html">O</a>
                                    
                                    <a class="letter-anchor class" href="/api/scala/$times$colon.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/$times$colon.html">*:</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/Conversion.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/Conversion.html">Conversion</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/Tuple$package$/EmptyTuple$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/Tuple$package$/EmptyTuple$.html">EmptyTuple</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/Eql$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/Eql.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/Eql.html">Eql</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/NonEmptyTuple.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/NonEmptyTuple.html">NonEmptyTuple</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/PolyFunction.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/PolyFunction.html">PolyFunction</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/Product0$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/Product0.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/Product0.html">Product0</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/Selectable$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/Selectable.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/Selectable.html">Selectable</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/Tuple$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/Tuple.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/Tuple.html">Tuple</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/deriving$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/deriving$.html">deriving</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/main.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/main.html">main</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/opaques$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/opaques$.html">opaques</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/annotation/index.html">
                        scala.annotation
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/annotation/RefiningAnnotation.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/RefiningAnnotation.html">RefiningAnnotation</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/alpha.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/alpha.html">alpha</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/constructorOnly.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/constructorOnly.html">constructorOnly</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/infix.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/infix.html">infix</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/mixin.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/mixin.html">mixin</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/static.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/static.html">static</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/targetName.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/targetName.html">targetName</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/threadUnsafe.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/threadUnsafe.html">threadUnsafe</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/annotation/internal/index.html">
                        scala.annotation.internal
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/Alias.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/Alias.html">Alias</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/AnnotationDefault.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/AnnotationDefault.html">AnnotationDefault</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/Body.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/Body.html">Body</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/Child.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/Child.html">Child</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/ContextResultCount.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/ContextResultCount.html">ContextResultCount</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/InlineParam.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/InlineParam.html">InlineParam</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/Repeated.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/Repeated.html">Repeated</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/SourceFile.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/SourceFile.html">SourceFile</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/WithBounds.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/WithBounds.html">WithBounds</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/sharable.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/sharable.html">sharable</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/annotation/internal/unshared.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/annotation/internal/unshared.html">unshared</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/compiletime/index.html">
                        scala.compiletime
                    </a>
                    <ul class="package-entities">
                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/compiletime/ops/index.html">
                        scala.compiletime.ops
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/compiletime/ops/package$/any$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/compiletime/ops/package$/any$.html">any</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/compiletime/ops/package$/boolean$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/compiletime/ops/package$/boolean$.html">boolean</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/compiletime/ops/package$/int$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/compiletime/ops/package$/int$.html">int</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/compiletime/ops/package$/string$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/compiletime/ops/package$/string$.html">string</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/compiletime/testing/index.html">
                        scala.compiletime.testing
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/compiletime/testing/Error$.html">O</a>
                                    
                                    <a class="letter-anchor case class" href="/api/scala/compiletime/testing/Error.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/compiletime/testing/Error.html">Error</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/compiletime/testing/ErrorKind$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/compiletime/testing/ErrorKind.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/compiletime/testing/ErrorKind.html">ErrorKind</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/internal/index.html">
                        scala.internal
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/internal/MatchCase.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/internal/MatchCase.html">MatchCase</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/internal/TypeBox.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/internal/TypeBox.html">TypeBox</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/quoted/index.html">
                        scala.quoted
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Const$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Const$.html">Const</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Consts$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Consts$.html">Consts</a>
                            </li>
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Expr$.html">O</a>
                                    
                                    <a class="letter-anchor class" href="/api/scala/quoted/Expr.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Expr.html">Expr</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/quoted/ExprMap.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/ExprMap.html">ExprMap</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Liftable$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/quoted/Liftable.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Liftable.html">Liftable</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/quoted/QuoteContext.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/QuoteContext.html">QuoteContext</a>
                            </li>
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Type$.html">O</a>
                                    
                                    <a class="letter-anchor class" href="/api/scala/quoted/Type.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Type.html">Type</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Unliftable$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/quoted/Unliftable.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Unliftable.html">Unliftable</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Unlifted$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Unlifted$.html">Unlifted</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/Varargs$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/Varargs$.html">Varargs</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/report$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/report$.html">report</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/quoted/internal/index.html">
                        scala.quoted.internal
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/internal/Expr$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/internal/Expr$.html">Expr</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/quoted/internal/Patterns$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/internal/Patterns$.html">Patterns</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/quoted/internal/QuoteMatching.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/internal/QuoteMatching.html">QuoteMatching</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/quoted/internal/QuoteUnpickler.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/internal/QuoteUnpickler.html">QuoteUnpickler</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/quoted/internal/SplicedType.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/internal/SplicedType.html">SplicedType</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor class" href="/api/scala/quoted/internal/StopMacroExpansion.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/quoted/internal/StopMacroExpansion.html">StopMacroExpansion</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/reflect/index.html">
                        scala.reflect
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/reflect/Enum.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/reflect/Enum.html">Enum</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/reflect/Selectable$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/reflect/Selectable.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/reflect/Selectable.html">Selectable</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/reflect/TypeTest$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/reflect/TypeTest.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/reflect/TypeTest.html">TypeTest</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/runtime/index.html">
                        scala.runtime
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/runtime/EnumValue.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/runtime/EnumValue.html">EnumValue</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/runtime/FunctionXXL.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/runtime/FunctionXXL.html">FunctionXXL</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/runtime/Scala3RunTime$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/runtime/Scala3RunTime$.html">Scala3RunTime</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/runtime/Tuple$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/runtime/Tuple$.html">Tuple</a>
                            </li>
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/runtime/TupleXXL$.html">O</a>
                                    
                                    <a class="letter-anchor class" href="/api/scala/runtime/TupleXXL.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/runtime/TupleXXL.html">TupleXXL</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/runtime/TupledFunctions$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/runtime/TupledFunctions$.html">TupledFunctions</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/util/index.html">
                        scala.util
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/util/CommandLineParser$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/util/CommandLineParser$.html">CommandLineParser</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/util/FromDigits$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/util/FromDigits.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/util/FromDigits.html">FromDigits</a>
                            </li>
                            

                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor trait" href="/api/scala/util/LowPriorityNot.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/util/LowPriorityNot.html">LowPriorityNot</a>
                            </li>
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/util/Not$.html">O</a>
                                    
                                    <a class="letter-anchor class" href="/api/scala/util/Not.html">C</a>
                                </div>
                                <a class="entity-name" href="/api/scala/util/Not.html">Not</a>
                            </li>
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                             <!-- ignore: companions are handled below -->
                            

                        
                            

                            <li class=" with-companion ">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/util/TupledFunction$.html">O</a>
                                    
                                    <a class="letter-anchor trait" href="/api/scala/util/TupledFunction.html">T</a>
                                </div>
                                <a class="entity-name" href="/api/scala/util/TupledFunction.html">TupledFunction</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scala/util/control/index.html">
                        scala.util.control
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scala/util/control/NonLocalReturns$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scala/util/control/NonLocalReturns$.html">NonLocalReturns</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
                <li class="index-entity entity-package section">
                    <a class="package-toggle" onclick="toggleSection(this);">
                        <i class="fas fa-angle-right"></i>
                    </a>
                    <a class="entity-name" href="/api/scalaShadowing/index.html">
                        scalaShadowing
                    </a>
                    <ul class="package-entities">
                        
                            

                            <li class="">
                                <div class="entity-kinds">
                                    
                                    <a class="letter-anchor object" href="/api/scalaShadowing/language$.html">O</a>
                                </div>
                                <a class="entity-name" href="/api/scalaShadowing/language$.html">language</a>
                            </li>
                            

                        
                    </ul>
                </li>
            
            </ul>
        </li>
        
    </ul>
</nav>

<div id="content-wrapper">
    <main class="container">
    <header>
        <h1>TASTy Reflect</h1>
        <div class="byline">
            <a href="https://github.com/lampepfl/dotty/edit/master/docs/docs/reference/metaprogramming/tasty-reflect.md">
                <i class="far fa-edit"></i>
                Edit this page on GitHub
            </a>
        </div>
    </header>
    <p>TASTy Reflect enables inspection and construction of Typed Abstract Syntax Trees
(Typed-AST). It may be used on quoted expressions (<code>quoted.Expr</code>) and quoted
types (<code>quoted.Type</code>) from <a href="./macros.html">Macros</a> or on full TASTy files.</p>
<p>If you are writing macros, please first read <a href="./macros.html">Macros</a>.
You may find all you need without using TASTy Reflect.</p>
<h2><a href="#api-from-quotes-and-splices-to-tasty-reflect-trees-and-back" id="api-from-quotes-and-splices-to-tasty-reflect-trees-and-back" class="anchor"></a>API: From quotes and splices to TASTy reflect trees and back</h2>
<p>With <code>quoted.Expr</code> and <code>quoted.Type</code> we can compute code but also analyze code
by inspecting the ASTs. <a href="./macros.html">Macros</a> provide the guarantee that the
generation of code will be type-correct. Using TASTy Reflect will break these
guarantees and may fail at macro expansion time, hence additional explicit
checks must be done.</p>
<p>To provide reflection capabilities in macros we need to add an implicit
parameter of type <code>scala.quoted.QuoteContext</code> and import <code>qctx.reflect._</code> from it in
the scope where it is used.</p>
<pre><code class="scala">import scala.quoted._

inline def natConst(inline x: Int): Int = ${natConstImpl('{x})}

def natConstImpl(x: Expr[Int])(using qctx: QuoteContext): Expr[Int] = {
  import qctx.reflect._
  ...
}
</code></pre>
<h3><a href="#extractors" id="extractors" class="anchor"></a>Extractors</h3>
<p><code>import qctx.reflect._</code> will provide all extractors and methods on TASTy Reflect
trees. For example the <code>Literal(_)</code> extractor used below.</p>
<pre><code class="scala">def natConstImpl(x: Expr[Int])(using qctx: QuoteContext): Expr[Int] = {
  import qctx.reflect._
  val xTree: Term = Term.of(x)
  xTree match {
    case Inlined(_, _, Literal(Constant(n: Int))) =&gt;
      if (n &lt;= 0) {
        Reporting.error(&quot;Parameter must be natural number&quot;)
        '{0}
      } else {
        xTree.asExprOf[Int]
      }
    case _ =&gt;
      Reporting.error(&quot;Parameter must be a known constant&quot;)
      '{0}
  }
}
</code></pre>
<p>To easily know which extractors are needed, the <code>showExtractors</code> method on a
<code>qctx.reflect.Term</code> returns the string representation of the extractors.</p>
<p>The methods <code>qctx.reflect.Term.{asExpr, asExprOf}</code> provide a way to go back to a <code>quoted.Expr</code>.
Note that <code>asExpr</code> returns a <code>Expr[Any]</code>.
On the other hand <code>asExprOf[T]</code> returns a <code>Expr[T]</code>, if the type does not conform to it an exception will be thrown at runtime.</p>
<h3><a href="#positions" id="positions" class="anchor"></a>Positions</h3>
<p>The <code>ast</code> in the context provides a <code>rootPosition</code> value. It corresponds to
the expansion site for macros. The macro authors can obtain various information about that
expansion site. The example below shows how we can obtain position information
such as the start line, the end line or even the source code at the expansion
point.</p>
<pre><code class="scala">def macroImpl()(qctx: QuoteContext): Expr[Unit] = {
  import qctx.reflect._
  val pos = rootPosition

  val path = pos.sourceFile.jpath.toString
  val start = pos.start
  val end = pos.end
  val startLine = pos.startLine
  val endLine = pos.endLine
  val startColumn = pos.startColumn
  val endColumn = pos.endColumn
  val sourceCode = pos.sourceCode
  ...
</code></pre>
<h3><a href="#tree-utilities" id="tree-utilities" class="anchor"></a>Tree Utilities</h3>
<p><code>scala.tasty.reflect</code> contains three facilities for tree traversal and
transformation.</p>
<p><code>TreeAccumulator</code> ties the knot of a traversal. By calling <code>foldOver(x, tree))</code>
we can dive into the <code>tree</code> node and start accumulating values of type <code>X</code> (e.g.,
of type List[Symbol] if we want to collect symbols). The code below, for
example, collects the pattern variables of a tree.</p>
<pre><code class="scala">def collectPatternVariables(tree: Tree)(implicit ctx: Context): List[Symbol] = {
  val acc = new TreeAccumulator[List[Symbol]] {
    def apply(syms: List[Symbol], tree: Tree)(implicit ctx: Context) = tree match {
      case Bind(_, body) =&gt; apply(tree.symbol :: syms, body)
      case _ =&gt; foldOver(syms, tree)
    }
  }
  acc(Nil, tree)
}
</code></pre>
<p>A <code>TreeTraverser</code> extends a <code>TreeAccumulator</code> and performs the same traversal
but without returning any value. Finally a <code>TreeMap</code> performs a transformation.</p>
<h4><a href="#let" id="let" class="anchor"></a>Let</h4>
<p><code>scala.tasty.Reflection</code> also offers a method <code>let</code> that allows us
to bind the <code>rhs</code> (right-hand side) to a <code>val</code> and use it in <code>body</code>. Additionally, <code>lets</code> binds
the given <code>terms</code> to names and allows to use them in the <code>body</code>. Their type definitions
are shown below:</p>
<pre><code class="scala">def let(rhs: Term)(body: Ident =&gt; Term): Term = ...

def lets(terms: List[Term])(body: List[Term] =&gt; Term): Term = ...
</code></pre>
<h2><a href="#more-examples" id="more-examples" class="anchor"></a>More Examples</h2>
<ul>
<li>Start experimenting with TASTy Reflect (<a href="https://github.com/nicolasstucki/tasty-reflection-exercise">link</a>)</li>
</ul>

</main>
</div>
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'lampepfl/dotty'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

        <script src="/js/highlight.pack.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        
            <script src="/js/toolbar.js"></script>
        
            <script src="/js/sidebar.js"></script>
        
        <script src="/js/dottydoc.js"></script>
    </body>
</html>
